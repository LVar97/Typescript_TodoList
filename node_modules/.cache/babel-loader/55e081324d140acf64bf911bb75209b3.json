{"ast":null,"code":"import _asyncToGenerator from\"/Users/varvara/Desktop/dev/Project/Typescript_TodoList/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/varvara/Desktop/dev/Project/Typescript_TodoList/node_modules/@babel/runtime/regenerator/index.js\";import axios from\"axios\";import{TodosActionTypes}from\"../../types/todo\";export var fetchTodos=function fetchTodos(){var page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:TodosActionTypes.FETCH_TODOS});_context.next=4;return axios.get('https://jsonplaceholder.typicode.com/todos',{params:{_page:page,_limit:limit}});case 4:response=_context.sent;setTimeout(function(){dispatch({type:TodosActionTypes.FETCH_TODOS_SUCCESS,payload:response.data});},500);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);dispatch({type:TodosActionTypes.FETCH_TODOS_ERROR,payload:'Произошла ошибка при загрузки списка дел'});case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export function setTodoPage(page){return{type:TodosActionTypes.SET_TODO_PAGE,payload:page};}export function setTodoChange(todo){return{type:TodosActionTypes.SET_TODO_CHANGE,payload:todo};}export function setTodoDelete(todo){return{type:TodosActionTypes.SET_TODO_DELETE,payload:todo};}export function setTodoAdd(todo){return{type:TodosActionTypes.SET_TODO_ADD,payload:todo};}export function setTodoCompleted(todo){return{type:TodosActionTypes.SET_TODO_COMPLETED,payload:todo};}","map":{"version":3,"sources":["/Users/varvara/Desktop/dev/Project/Typescript_TodoList/src/store/acrtion-creators/todos.ts"],"names":["axios","TodosActionTypes","fetchTodos","page","limit","dispatch","type","FETCH_TODOS","get","params","_page","_limit","response","setTimeout","FETCH_TODOS_SUCCESS","payload","data","FETCH_TODOS_ERROR","setTodoPage","SET_TODO_PAGE","setTodoChange","todo","SET_TODO_CHANGE","setTodoDelete","SET_TODO_DELETE","setTodoAdd","SET_TODO_ADD","setTodoCompleted","SET_TODO_COMPLETED"],"mappings":"2RAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,gBAAT,KAA8C,kBAA9C,CAIA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAA0B,IAAzBC,CAAAA,IAAyB,2DAAlB,CAAkB,IAAfC,CAAAA,KAAe,2DAAP,EAAO,CACnD,+FAAO,iBAAOC,QAAP,+IAELA,QAAQ,CAAC,CAACC,IAAI,CAAEL,gBAAgB,CAACM,WAAxB,CAAD,CAAR,CAFK,sBAGkBP,CAAAA,KAAK,CAACQ,GAAN,CAAU,4CAAV,CAAwD,CAC9EC,MAAM,CAAE,CACPC,KAAK,CAAEP,IADA,CAEPQ,MAAM,CAAEP,KAFD,CADsE,CAAxD,CAHlB,QAGCQ,QAHD,eAULC,UAAU,CAAC,UAAM,CAChBR,QAAQ,CAAC,CAACC,IAAI,CAAEL,gBAAgB,CAACa,mBAAxB,CAA6CC,OAAO,CAAEH,QAAQ,CAACI,IAA/D,CAAD,CAAR,CACC,CAFQ,CAEN,GAFM,CAAV,CAVK,+EAcLX,QAAQ,CAAC,CACRC,IAAI,CAAEL,gBAAgB,CAACgB,iBADf,CAERF,OAAO,CAAE,0CAFD,CAAD,CAAR,CAdK,oEAAP,+DAmBA,CApBM,CAsBP,MAAO,SAASG,CAAAA,WAAT,CAAsBf,IAAtB,CAAiD,CACvD,MAAO,CAACG,IAAI,CAAEL,gBAAgB,CAACkB,aAAxB,CAAuCJ,OAAO,CAAEZ,IAAhD,CAAP,CACA,CAED,MAAO,SAASiB,CAAAA,aAAT,CAAwBC,IAAxB,CAAkD,CACxD,MAAO,CAACf,IAAI,CAAEL,gBAAgB,CAACqB,eAAxB,CAAyCP,OAAO,CAAEM,IAAlD,CAAP,CACA,CAED,MAAO,SAASE,CAAAA,aAAT,CAAwBF,IAAxB,CAAkD,CACxD,MAAO,CACNf,IAAI,CAAEL,gBAAgB,CAACuB,eADjB,CAENT,OAAO,CAAEM,IAFH,CAAP,CAIA,CAED,MAAO,SAASI,CAAAA,UAAT,CAAqBJ,IAArB,CAA+C,CACrD,MAAO,CAACf,IAAI,CAAEL,gBAAgB,CAACyB,YAAxB,CAAsCX,OAAO,CAAEM,IAA/C,CAAP,CACA,CAED,MAAO,SAASM,CAAAA,gBAAT,CAA2BN,IAA3B,CAAqD,CAC3D,MAAO,CAACf,IAAI,CAAEL,gBAAgB,CAAC2B,kBAAxB,CAA4Cb,OAAO,CAAEM,IAArD,CAAP,CACA","sourcesContent":["import axios from \"axios\";\nimport { Dispatch } from \"react\";\nimport { TodosActionTypes, TodosAction } from \"../../types/todo\";\nimport { ITodo } from '../../Interfaces';\n\n\nexport const fetchTodos = (page = 1, limit = 10) => {\n\treturn async (dispatch: Dispatch<TodosAction>) => {\n\t\ttry {\n\t\t\tdispatch({type: TodosActionTypes.FETCH_TODOS});\n\t\t\tconst response = await axios.get('https://jsonplaceholder.typicode.com/todos', {\n\t\t\t\tparams: {\n\t\t\t\t\t_page: page,\n\t\t\t\t\t_limit: limit,\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tdispatch({type: TodosActionTypes.FETCH_TODOS_SUCCESS, payload: response.data}\n\t\t\t)}, 500);\n\t\t} catch (e) {\n\t\t\tdispatch({\n\t\t\t\ttype: TodosActionTypes.FETCH_TODOS_ERROR, \n\t\t\t\tpayload: 'Произошла ошибка при загрузки списка дел'})\n\t\t}\n\t}\n};\n\nexport function setTodoPage (page: number): TodosAction {\n\treturn {type: TodosActionTypes.SET_TODO_PAGE, payload: page}\n}\n\nexport function setTodoChange (todo: ITodo): TodosAction {\n\treturn {type: TodosActionTypes.SET_TODO_CHANGE, payload: todo}\n}\n\nexport function setTodoDelete (todo: ITodo): TodosAction {\n\treturn {\n\t\ttype: TodosActionTypes.SET_TODO_DELETE, \n\t\tpayload: todo\n\t}\n}\n\nexport function setTodoAdd (todo: ITodo): TodosAction {\n\treturn {type: TodosActionTypes.SET_TODO_ADD, payload: todo}\n}\n\nexport function setTodoCompleted (todo: ITodo): TodosAction {\n\treturn {type: TodosActionTypes.SET_TODO_COMPLETED, payload: todo}\n}\n"]},"metadata":{},"sourceType":"module"}