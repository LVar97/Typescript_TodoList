{"ast":null,"code":"import React,{useEffect}from\"react\";import{useTypedSelector}from\"../hook/useTypesSelector\";import{useActions}from\"../hook/useActions\";import{Preloader}from\"./common/Preloader/Preloader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var TodoList=function TodoList(_ref){var onToggle=_ref.onToggle,onOpen=_ref.onOpen,onRemove=_ref.onRemove;var _useTypedSelector=useTypedSelector(function(state){return state.todo;}),todos=_useTypedSelector.todos,loading=_useTypedSelector.loading,error=_useTypedSelector.error,page=_useTypedSelector.page,limit=_useTypedSelector.limit;var _useActions=useActions(),fetchTodos=_useActions.fetchTodos,setTodoPage=_useActions.setTodoPage;var pages=[1,2,3,4,5];useEffect(function(){fetchTodos(page,limit);},[page]);if(loading){return/*#__PURE__*/_jsx(Preloader,{});}if(error){return/*#__PURE__*/_jsx(\"h2\",{children:error});}if(todos.length===0){return/*#__PURE__*/_jsx(\"p\",{className:\"center\",children:\"\\u041F\\u043E\\u043A\\u0430 \\u0434\\u0435\\u043B \\u043D\\u0435\\u0442\"});}var editHandler=function editHandler(event,todo){event.preventDefault();onOpen(todo);};var removeHandler=function removeHandler(event,todo){event.preventDefault();onRemove(todo);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"ul\",{children:todos.map(function(todo){var classes=['todo'];if(todo.completed){classes.push('completed');}return/*#__PURE__*/_jsx(\"li\",{className:classes.join(' '),children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:todo.completed,onChange:onToggle.bind(null,todo),id:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{children:todo.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons px1\",onClick:function onClick(event){return editHandler(event,todo);},children:\"edit\"}),/*#__PURE__*/_jsx(\"i\",{className:\"material-icons red-text\",onClick:function onClick(event){return removeHandler(event,todo);},children:\"delete\"})]})]})},todo.id);})}),/*#__PURE__*/_jsx(\"ul\",{className:\"pagination row\",children:pages.map(function(p){return/*#__PURE__*/_jsx(\"li\",{className:\"col s1 \".concat(p===page?\"active\":\"waves-effect\"),onClick:function onClick(){return setTodoPage(p);},children:p},p);})})]});};","map":{"version":3,"sources":["/Users/varvara/Desktop/dev/Project/Typescript_TodoList/src/components/TodoList.tsx"],"names":["React","useEffect","useTypedSelector","useActions","Preloader","TodoList","onToggle","onOpen","onRemove","state","todo","todos","loading","error","page","limit","fetchTodos","setTodoPage","pages","length","editHandler","event","preventDefault","removeHandler","map","classes","completed","push","join","bind","title","id","p"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useTypedSelector } from \"../hook/useTypesSelector\";\nimport { ITodo } from '../Interfaces';\nimport { useActions } from \"../hook/useActions\";\nimport { Preloader } from \"./common/Preloader/Preloader\";\n\ntype TodoListProps = {\n\tonToggle(todo: ITodo): void,\n\tonOpen(todo: ITodo): void,\n\tonRemove(todo: ITodo): void\n}\n\nexport const TodoList: React.FC<TodoListProps> = ({\n\tonToggle,\n\tonOpen,\n\tonRemove\n}) => {\n\tconst {todos, loading, error, page, limit} = useTypedSelector(state => state.todo)\n\tconst {fetchTodos, setTodoPage} = useActions();\n\tconst pages = [1, 2, 3, 4, 5];\n\n\tuseEffect(()=>{\n\t\tfetchTodos(page, limit);\n\t}, [page])\n\n\tif (loading) {\n\t\treturn (<Preloader/>)\n\t}\n\tif (error) {\n\t\treturn <h2>{error}</h2>\n\t}\n\tif (todos.length === 0) {\n\t\treturn <p className=\"center\">Пока дел нет</p>\n\t}\n\n\tconst editHandler = (event: React.MouseEvent, todo: ITodo) => {\n\t\tevent.preventDefault();\n\t\tonOpen(todo);\n\t}\n\n\tconst removeHandler = (event: React.MouseEvent, todo: ITodo) => {\n\t\tevent.preventDefault();\n\t\tonRemove(todo);\n\t}\n\n\treturn (\n\t\t<>\n\t\t<ul>\n\t\t\t{todos.map(todo => {\n\t\t\t\tconst classes = ['todo']\n\t\t\t\tif (todo.completed) {\n\t\t\t\t\tclasses.push('completed');\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<li className={classes.join(' ')} key={todo.id}>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\ttype=\"checkbox\" \n\t\t\t\t\t\t\t\tchecked={todo.completed}\n\t\t\t\t\t\t\t\tonChange={onToggle.bind(null, todo)}\n\t\t\t\t\t\t\t\tid=\"checkbox\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<span>{todo.title}</span>\n\t\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t\t<i className=\"material-icons px1\"\n\t\t\t\t\t\t\t\tonClick={event => editHandler(event, todo)}\n\t\t\t\t\t\t\t\t>edit</i>\n\t\t\t\t\t\t\t\t<i className=\"material-icons red-text\" \n\t\t\t\t\t\t\t\tonClick={event => removeHandler(event, todo)}\n\t\t\t\t\t\t\t\t>delete</i>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t)\n\t\t\t})}\n\t\t</ul>\n\t\t<ul className=\"pagination row\">\n\t\t\t{pages.map(p => (\n\t\t\t\t<li\n\t\t\t\t\tclassName={`col s1 ${p === page ? \"active\" : \"waves-effect\"}`}\n\t\t\t\t\tkey={p}\n\t\t\t\t\tonClick={() => setTodoPage(p)}\t\t\t\n\t\t\t\t>{p}\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t\t</>\n\t)\n}"]},"metadata":{},"sourceType":"module"}