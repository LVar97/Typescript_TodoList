{"ast":null,"code":"import axios from \"axios\";\nimport { TodosActionTypes } from \"../../types/todo\";\nexport const fetchTodos = function () {\n  let page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return async dispatch => {\n    try {\n      dispatch({\n        type: TodosActionTypes.FETCH_TODOS\n      });\n      const response = await axios.get('https://jsonplaceholder.typicode.com/todos');\n      setTimeout(() => {\n        dispatch({\n          type: TodosActionTypes.FETCH_TODOS_SUCCESS,\n          payload: response.data\n        });\n      }, 500); // dispatch({type: TodosActionTypes.FETCH_TODOS_SUCCESS, payload: response.data});\n    } catch (e) {\n      dispatch({\n        type: TodosActionTypes.FETCH_TODOS_ERROR,\n        payload: 'Произошла ошибка при загрузки списка дел'\n      });\n    }\n  };\n};","map":{"version":3,"sources":["/Users/varvara/Desktop/dev/Project/Typescript_TodoList/src/store/acrtion-creators/todos.ts"],"names":["axios","TodosActionTypes","fetchTodos","page","dispatch","type","FETCH_TODOS","response","get","setTimeout","FETCH_TODOS_SUCCESS","payload","data","e","FETCH_TODOS_ERROR"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,gBAAT,QAA8C,kBAA9C;AAGA,OAAO,MAAMC,UAAU,GAAG,YAAa;AAAA,MAAZC,IAAY,uEAAN,CAAM;AACtC,SAAO,MAAOC,QAAP,IAA2C;AACjD,QAAI;AACHA,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAAEJ,gBAAgB,CAACK;AAAxB,OAAD,CAAR;AACA,YAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAU,4CAAV,CAAvB;AACAC,MAAAA,UAAU,CAAC,MAAM;AAChBL,QAAAA,QAAQ,CAAC;AAACC,UAAAA,IAAI,EAAEJ,gBAAgB,CAACS,mBAAxB;AAA6CC,UAAAA,OAAO,EAAEJ,QAAQ,CAACK;AAA/D,SAAD,CAAR;AACC,OAFQ,EAEN,GAFM,CAAV,CAHG,CAMH;AACA,KAPD,CAOE,OAAOC,CAAP,EAAU;AACXT,MAAAA,QAAQ,CAAC;AACRC,QAAAA,IAAI,EAAEJ,gBAAgB,CAACa,iBADf;AAERH,QAAAA,OAAO,EAAE;AAFD,OAAD,CAAR;AAGA;AACD,GAbD;AAcA,CAfM","sourcesContent":["import axios from \"axios\";\nimport { Dispatch } from \"react\";\nimport { TodosActionTypes, TodosAction } from \"../../types/todo\";\n\n\nexport const fetchTodos = (page =1) => {\n\treturn async (dispatch: Dispatch<TodosAction>) => {\n\t\ttry {\n\t\t\tdispatch({type: TodosActionTypes.FETCH_TODOS});\n\t\t\tconst response = await axios.get('https://jsonplaceholder.typicode.com/todos');\n\t\t\tsetTimeout(() => {\n\t\t\t\tdispatch({type: TodosActionTypes.FETCH_TODOS_SUCCESS, payload: response.data}\n\t\t\t)}, 500);\n\t\t\t// dispatch({type: TodosActionTypes.FETCH_TODOS_SUCCESS, payload: response.data});\n\t\t} catch (e) {\n\t\t\tdispatch({\n\t\t\t\ttype: TodosActionTypes.FETCH_TODOS_ERROR, \n\t\t\t\tpayload: 'Произошла ошибка при загрузки списка дел'})\n\t\t}\n\t}\n};"]},"metadata":{},"sourceType":"module"}